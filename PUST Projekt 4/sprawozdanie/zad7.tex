\chapter{Zadanie 7: Dobór parametrów lambda regulatora DMC}
W poprzednim zadaniu zajmowaliœmy siê jedynie zakresami i funkcjami przynale¿noœci regulatorów lokalnych, nie zwracaj¹c uwagi na inne parametry DMC, takie jak N, $N_u$ i $\lambda$. Choæ zmniejszanie dwóch pierwszych zazwyczaj nie przynosi znacznej poprawy w regulacji, a jedynie zmniejsza z³o¿onoœc obliczeniow¹ przypadku to trzeci z nich ma ogromny wp³yw na jakoœæ regulowanego sygna³u wyjœcia. Poni¿ej pzredstawiamy dzia³anie algorytmu regulacji DMC z tymi samymi funkcjami przynale¿noœci, ale z oddzielnie dobranymi wartoœciami $\lambda$ dla ka¿dego z regulatorów.
\section{Dwa regulatory lokalne}
Poni¿ej na wykresie \ref{lambda1} przedstawiono otrzymany przebieg regulacji dla otrzymanych po wielu testach nastaw: $\lambda_1 = 11$, $\lambda_2 = 0,1$. B³¹d regulacji wyniós³ 558.6919. Jak widaæ spowodowa³o to kolosaln¹ poprawê. B³¹d regulacji jest ni¿szy ni¿ bez dobierania lambd, ale nie a¿ tak dobry jak dla piêciu regulatorów w poprzednim zadaniu. Wygl¹d przebiegu natomiast jest lepszy ni¿ którykolwiek wczeœniejszy dla algorytmu DMC. Jak mog³o by siê spodziewaæ dobranie odpowiednich $\lambda$ zancznie poprawi³o jakoœæ regulacji.
\begin{figure}[tb]
	\centering
	\begin{tikzpicture}
	\begin{groupplot}[group style={group size=1 by 2,vertical sep={2 cm}},
	width=0.9\textwidth,height=0.4\textwidth]
	\nextgroupplot
	[
	xmin=0,xmax=1500,ymin=-1,ymax=1,
	xlabel={$k$},
	ylabel={$U$},
	xtick={0,250,500,750,1000,1250,1500},
	ytick={-1,0,1},
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[blue,semithick] file {wykresy/zad7/p6dmcU71.txt};
	\nextgroupplot
	[
	xmin=0,xmax=1500,ymin=-1,ymax=6,
	xlabel={$k$},
	ylabel={$Y$},
	xtick={0,250,500,750,1000,1250,1500},
	ytick={-1,0,1,2,3,4,5,6},
	y tick label style={/pgf/number format/1000 sep=},
	legend pos=north east,
	]
	\addplot[blue,semithick] file {wykresy/zad7/p6dmcY71.txt};
	\addplot[orange,semithick,densely dashed] file {wykresy/zad7/lab6Yzad.txt};
	\legend{$Y(k)$,$Y^{zad}$}
	\end{groupplot}
	\end{tikzpicture}
	\caption{Dwa regulatory lokalne}
	\label{lambda1}
\end{figure}
\FloatBarrier
\section{Trzy regulatory lokalne}
Dla tzrech regulatorów lokalnych w wyniku testowania otrzymaliœmy nastawy $\lambda_1 = 100$, $\lambda_2 = 0,1$ i $\lambda_3 = 0,1$ oraz b³¹d regulacji zaledwie 521,8022. Choæ w porównaniu do porzedniego podpunktu poprawa pzrebiegu jest na pierwszy rzut oka niewidoczna, to b³¹d jest najni¿szy spoœród wszystkich wyliczonych dla regulatora DMC. Oznacza to, ¿e przy dobieraniu $\lambda$ dla ledwie trzech regulatorów lokalnych (\ref{lambda2}) otrzymaliœmy lepsze wyniki ni¿ dla piêciu regulatorów bez dobierania.
\begin{figure}[tb]
	\centering
	\begin{tikzpicture}
	\begin{groupplot}[group style={group size=1 by 2,vertical sep={2 cm}},
	width=0.9\textwidth,height=0.4\textwidth]
	\nextgroupplot
	[
	xmin=0,xmax=1500,ymin=-1,ymax=1,
	xlabel={$k$},
	ylabel={$U$},
	xtick={0,250,500,750,1000,1250,1500},
	ytick={-1,0,1},
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[blue,semithick] file {wykresy/zad7/p6dmcU72.txt};
	\nextgroupplot
	[
	xmin=0,xmax=1500,ymin=-1,ymax=6,
	xlabel={$k$},
	ylabel={$Y$},
	xtick={0,250,500,750,1000,1250,1500},
	ytick={-1,0,1,2,3,4,5,6},
	y tick label style={/pgf/number format/1000 sep=},
	legend pos=north east,
	]
	\addplot[blue,semithick] file {wykresy/zad7/p6dmcY72.txt};
	\addplot[orange,semithick,densely dashed] file {wykresy/zad7/lab6Yzad.txt};
	\legend{$Y(k)$,$Y^{zad}$}
	\end{groupplot}
	\end{tikzpicture}
	\caption{Trzy regulatory lokalne}
	\label{lambda2}
\end{figure}
\FloatBarrier
\section{Cztery regulatory lokalne}
Regulacja dla czterech regulatorów lokalnych nie przynios³a lepszych rezultatów ni¿ dla trzech. Co wiêcej dla dobranych nastaw $\lambda_1 = 32$, $\lambda_2 = 0,1$, $\lambda_3 = 0,1$ i $\lambda_4 = 0,1$, b³¹d regulacji uleg³ powiêkszeniu 526,0591. Przy braku widocznej poprawy w przebiegu regulacji mo¿emy jednoznacznie stwierdziæ, ¿e nie jest to najlepsze rozwi¹zanie.
\begin{figure}[tb]
	\centering
	\begin{tikzpicture}
	\begin{groupplot}[group style={group size=1 by 2,vertical sep={2 cm}},
	width=0.9\textwidth,height=0.4\textwidth]
	\nextgroupplot
	[
	xmin=0,xmax=1500,ymin=-1,ymax=1,
	xlabel={$k$},
	ylabel={$U$},
	xtick={0,250,500,750,1000,1250,1500},
	ytick={-1,0,1},
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[blue,semithick] file {wykresy/zad7/p6dmcU74.txt};
	\nextgroupplot
	[
	xmin=0,xmax=1500,ymin=-1,ymax=6,
	xlabel={$k$},
	ylabel={$Y$},
	xtick={0,250,500,750,1000,1250,1500},
	ytick={-1,0,1,2,3,4,5,6},
	y tick label style={/pgf/number format/1000 sep=},
	legend pos=north east,
	]
	\addplot[blue,semithick] file {wykresy/zad7/p6dmcY74.txt};
	\addplot[orange,semithick,densely dashed] file {wykresy/zad7/lab6Yzad.txt};
	\legend{$Y(k)$,$Y^{zad}$}
	\end{groupplot}
	\end{tikzpicture}
	\caption{Cztery regulatory lokalne}
	\label{lambda4}
\end{figure}
\FloatBarrier
\section{Piêæ regulatorów lokalnych}
Wynik dla ostatniej konfiguracji, piêciu regulatorów lokalnych, tak¿e nie przyniós³ poprawy w stosunku do trzech regulatorów. Dla nastaw $\lambda_1 = 70$, $\lambda_2 = 0,1$, $\lambda_3 = 0,1$, $\lambda_4 = 0,1$ i $\lambda_5 = 0,1$ b³¹d wyniós³ 521.6016 czyli niemal¿e tyle samo co dwa podpunkty wczeœniej. W przebiegu tak¿e nie widaæ ¿adnej widocznej poprawy.
\begin{figure}[tb]
	\centering
	\begin{tikzpicture}
	\begin{groupplot}[group style={group size=1 by 2,vertical sep={2 cm}},
	width=0.9\textwidth,height=0.4\textwidth]
	\nextgroupplot
	[
	xmin=0,xmax=1500,ymin=-1,ymax=1,
	xlabel={$k$},
	ylabel={$U$},
	xtick={0,250,500,750,1000,1250,1500},
	ytick={-1,0,1},
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[blue,semithick] file {wykresy/zad7/p6dmcU75.txt};
	\nextgroupplot
	[
	xmin=0,xmax=1500,ymin=-1,ymax=6,
	xlabel={$k$},
	ylabel={$Y$},
	xtick={0,250,500,750,1000,1250,1500},
	ytick={-1,0,1,2,3,4,5,6},
	y tick label style={/pgf/number format/1000 sep=},
	legend pos=north east,
	]
	\addplot[blue,semithick] file {wykresy/zad7/p6dmcY75.txt};
	\addplot[orange,semithick,densely dashed] file {wykresy/zad7/lab6Yzad.txt};
	\legend{$Y(k)$,$Y^{zad}$}
	\end{groupplot}
	\end{tikzpicture}
	\caption{Piêæ regulatorów lokalnych}
	\label{lambda5}
\end{figure}
\FloatBarrier
\section{Podsumowanie DMC z dobranymu nastawami lambda}
Po dobraniu odpowiednich wartoœci parametrów $\lambda$ regulatorów lokalnych regulacja uleg³a znacznej poprawie. Zarówno wartoœæ wskaŸnika jakoœci jak i wygl¹d przebiegu sygna³u wyjœciowego uleg³y poprawie. Najlepsze wyniki zosta³y otrzymane dla konfiguracji piêciu regulatorów, aczkolwiek wyniki dla trzech regulatorów s¹ tak podobne do najlepszych, ¿e gdybyœmy musieli minimalizowaæ z³o¿onoœæ obliczeniow¹ algorytmu wybralibyœmy go bez zw³oki. Niestety mimo dobrania jak najlepszych parametrów jakoœæ regulacji nie jest lepsza ni¿ najlepsza otrzymana dla regulatora PID. Choæ co do przewagi wygl¹du przebiegu regulacji mo¿na by siê k³óciæ to b³¹d regulacji jest o oko³o 70 wy¿szy. Choæ jest to niespodziewane (regulator DMC zazwyczaj uzyskuje lepsze wyniki ni¿ DMC), to mo¿na znaleŸæ bardzo proste wyt³umaczenie tego zjawiska. Pierwsza mo¿liwoœæ jest taka, ¿e posiadany przez nas obiekt jest na tyle specyficzny, ¿e algorytm PID jest dla niego lepszy ni¿ DMC. Drug¹ (bardziej prawdopodobn¹) mo¿liwoœci¹ jest to, ¿e mimo wielokrotnych testów nie uda³o nam siê dobraæ najlepszych wartoœci parametrów.